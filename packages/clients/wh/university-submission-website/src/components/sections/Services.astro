---
import { Image } from "astro:assets";

interface Props {
  title: string;
  services: {
    title: string;
    description: string;
    icon: string;
  }[];
}

const { title, services } = Astro.props;

const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/assets/pages/**/*.{webp,jpeg,jpg,png,gif,svg}",
);
---

<div class="pt-36" id="services">
  <p
    class="mb-3 text-[2.13rem] font-semibold leading-9 lg:max-w-[64%]"
    set:html={title}
  />
  <div class="mt-16">
    <div
      class="grid auto-cols-fr grid-cols-1 grid-rows-[auto] gap-10 md:grid-cols-3"
    >
      {
        services.map(({ title, description, icon }) => (
          <div class="col-span-1 row-span-1 m-auto flex h-full max-w-[90%] flex-col items-stretch">
            <Image
              src={images[icon]()}
              alt={`Service ${title}`}
              class="inline-block h-12 w-12 max-w-full align-middle"
            />
            <div class="mt-16 text-[1.38rem] font-semibold leading-7">
              <h3 class="mb-3">{title}</h3>
            </div>
            <div class="mt-3.5 text-lg">
              <p class="mb-3">{description}</p>
            </div>
          </div>
        ))
      }
    </div>
  </div>
</div>
